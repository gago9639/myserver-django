(this["webpackJsonpmyserver-client"]=this["webpackJsonpmyserver-client"]||[]).push([[0],{43:function(e,a,t){},44:function(e,a,t){},45:function(e,a,t){e.exports={Header:"Header_Header__1-9En"}},52:function(e,a,t){e.exports=t(64)},57:function(e,a,t){},58:function(e,a,t){},64:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(7),l=t.n(o),s=(t(57),t(16)),m=(t(58),t(9));var i=function(e){var a=window.sessionStorage.getItem("first_name"),t=window.sessionStorage.getItem("last_name");return a?r.a.createElement("div",{className:"page"},r.a.createElement("h1",null,a+"  "+t)):r.a.createElement(m.a,{to:"/login"})},c=t(24),u=t(26),d=t(43),f=t.n(d),g=t(94),v=t(95);var E=function(e){var a=Object(n.useState)({username:"",password:""}),t=Object(s.a)(a,2),o=t[0],l=t[1],i=Object(n.useState)(!1),d=Object(s.a)(i,2),E=d[0],b=d[1],p=function(e){l(Object(u.a)(Object(u.a)({},o),{},Object(c.a)({},e.target.name,e.target.value)))};return E?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{to:"/"})):r.a.createElement("div",{className:"page"},r.a.createElement("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),fetch("http://127.0.0.1:8000/api/login",{credentials:"include",method:"post",body:JSON.stringify(o)}).then((function(e){return e.json()})).then((function(e){console.log(e),e.first_name?(window.sessionStorage.setItem("first_name",e.first_name),window.sessionStorage.setItem("last_name",e.last_name),b(!0)):alert("invalid password")}))},className:f.a.form},r.a.createElement("h1",null,"Login"),r.a.createElement("div",{className:"form-field"},r.a.createElement(g.a,{name:"username",label:"Username",variant:"outlined",required:!0,value:o.username,onChange:p})),r.a.createElement("div",{className:"form-field"},r.a.createElement(g.a,{name:"password",label:"Password",variant:"outlined",required:!0,value:o.password,onChange:p})),r.a.createElement("div",{className:"form-field"},r.a.createElement(v.a,{variant:"outlined",type:"submit"},"login"))))},b=t(44),p=t.n(b);var h=function(e){var a=Object(n.useState)({username:"",password:"",first_name:"",last_name:""}),t=Object(s.a)(a,2),o=t[0],l=t[1],i=Object(n.useState)(!1),d=Object(s.a)(i,2),f=d[0],E=d[1],b=function(e){l(Object(u.a)(Object(u.a)({},o),{},Object(c.a)({},e.target.name,e.target.value)))};return f?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{to:"/login"})):r.a.createElement("div",{className:"page"},r.a.createElement("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),fetch("http://127.0.0.1:8000/api/register",{method:"post",body:JSON.stringify(o)}).then((function(e){return e.json()})).then((function(e){E(!0)}))},className:p.a.form},r.a.createElement("h1",null,"Registration"),r.a.createElement("div",{className:"form-field"},r.a.createElement(g.a,{name:"username",label:"Username",variant:"outlined",required:!0,value:o.username,onChange:b})),r.a.createElement("div",{className:"form-field"},r.a.createElement(g.a,{className:"form-field",name:"password",label:"Password",variant:"outlined",required:!0,value:o.password,onChange:b})),r.a.createElement("div",{className:"form-field"},r.a.createElement(g.a,{className:"form-field",name:"first_name",label:"First name",variant:"outlined",required:!0,value:o.first_name,onChange:b})),r.a.createElement("div",{className:"form-field"},r.a.createElement(g.a,{className:"form-field",name:"last_name",label:"Last name",variant:"outlined",required:!0,value:o.last_name,onChange:b})),r.a.createElement("div",{className:"form-field"},r.a.createElement(v.a,{variant:"outlined",type:"submit"},"Create account"))))},w=t(45),N=t.n(w),j=t(19);var O=Object(m.g)((function(e){var a=Object(n.useState)(e.logined),t=Object(s.a)(a,2);return t[0],t[1],r.a.createElement("div",{className:N.a.Header},"/"===e.location.pathname?r.a.createElement("button",{className:"action-button",onClick:function(){window.sessionStorage.removeItem("first_name"),window.sessionStorage.removeItem("last_name"),e.onLogout()}},"Logout"):"/login"===e.location.pathname?r.a.createElement(j.b,{to:"/register"},r.a.createElement("button",{className:"action-button"},"Create account")):r.a.createElement(j.b,{to:"/login"},r.a.createElement("button",{className:"action-button"},"Login")))}));var _=function(){var e=Object(n.useState)(!1),a=Object(s.a)(e,2),t=a[0],o=a[1],l=!1;return l=!!window.sessionStorage.getItem("first_name"),console.log("hmm"),r.a.createElement("div",{className:"App"},r.a.createElement(j.a,null,r.a.createElement(O,{onLogout:function(){o(!0)},logined:l}),r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",component:i}),r.a.createElement(m.b,{path:"/login",component:E}),r.a.createElement(m.b,{path:"/register",component:h})),!!t&&(o(!1),!0)&&r.a.createElement(m.a,{to:"/login"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[52,1,2]]]);
//# sourceMappingURL=main.44ff9388.chunk.js.map